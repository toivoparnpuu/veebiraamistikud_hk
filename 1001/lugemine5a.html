<!doctype html>
<html>

<head>
  <title>Lugemine 4</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
</head>

<body>
  <div id="kiht1"></div>
</body>
<script type="text/babel">
  function Kuvamine() {
    const [aadress, muudaAadress] = React.useState("teade1.txt");
    const [aadressid, muudaAadressid] = React.useState([]);
    const [teade, muudaTeade] = React.useState("abcd");

    function ava(aadress) {
      //console.log(aadress);
      fetch(aadress).then(d => d.text()).then(t => muudaTeade(t));
    }

    React.useEffect(() => {
      fetch("teated.json").then(d => d.json()).then(j => muudaAadressid(j));

    }, []); //kÃ¤ivitab ainult alguses

    React.useEffect(() => {
      ava(aadress);
    }, [aadress]);

    const nupud = aadressid.map(aadress =>
      <input type="button" value={aadress} key={aadress} onClick={() => muudaAadress({ aadress })} />)
    return <div>abc {nupud}</div>
  }

  const root = ReactDOM.createRoot(document.getElementById('kiht1'))
  root.render(<Kuvamine />);
</script>

</html>